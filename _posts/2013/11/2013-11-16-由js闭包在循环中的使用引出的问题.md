---
layout: post
title: 由js闭包在循环中的使用引出的问题
categories:
- programming
tag:
- JavaScript
---

## Js传参方式
Js中的传参方式也有两种：`by value` 和 `by sharing` 这两种。说白了前者传值，后者传址。By value是对于原始数据类型，例如int，char之类的；而By sharing 和By reference是对于高级数据结构，如Object，struct之类。我们可以想象到一个Object或是struct 不能仅仅通过传值进行传参。当然啦，我们能够很容易明白 `by sharing` 和 `by value` 的区别，但是 `by sharing` 和 `by reference` 的区别却不一定能够明了，看下面一个例子：

{% highlight javascript %}

var bar;
var foo = bar;
bar = {'key':'value'};
console.log(foo, bar);

// result
undefined Object {key: "value"} 

{% end highlight %}

如上，By sharing 中foo 是undefined ， bar 是{'key' : 'value'}； 而 By reference 则应该两者都是{'key' : 'value'}。